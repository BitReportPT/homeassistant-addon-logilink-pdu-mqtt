#!/usr/bin/with-contenv bash
# ==============================================================================
# LogiLink & Intellinet PDU MQTT Bridge
# Starts the PDU MQTT Bridge service
# ==============================================================================

echo "Starting LogiLink & Intellinet PDU MQTT Bridge..."

# Check if configuration exists
if [ ! -f '/data/options.json' ]; then
    echo "Configuration file not found!"
    exit 1
fi

# Parse configuration
CONFIG_PATH=/data/options.json
echo "Using configuration: ${CONFIG_PATH}"

# Start the Python application
cd /
exec python3 run.py 